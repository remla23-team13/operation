# A2: Operate a Webapp

### Kubernetes: Level 4
- See the `/charts/templates` folder for the [Deployment](/charts/templates/model-service.yml), [Service](/charts/templates/model-service.yml) and an [Ingress](/charts/templates/ingress.yml).
- You can also find an example of ConfigMap, Secret, environment variables and volumes in the [`model-service.yml`](/charts/templates/model-service.yml). 
  - To inspect that the volume was mounted correctly first find the pod name <POD>, by using `kubectl get pods`.
  - Then run `kubectl exec -it <POD> -- bash`. 
  - You can now inspect the file structure inside the container, you can see that there is a folder volumes containing config.yaml.
- As can be seen in the previous points, we use Helm, see the [`README`](https://github.com/remla23-team13/operation) for technical deployment specifics.

### App Monitoring: Level 2
- We have at least three app-specific metrics, for all metric related code see [model-service](https://github.com/remla23-team13/model-service/blob/main/main.py).
  - positive_prediction_ratio - Ratio of positive predictions over all predictions (per version of the webapp)
  - wrong_prediction_ratio - Ratio of wrong predictions over all predictions (per version of the webapp)
    - A gauge metric.
  - review_size - A histogram of the review sizes (characters)
    - Uses counter metric.
  - additionally we keep track of the number of requests that have been served (num_requests)
    - A counter metric
- We have metrics of type histogram, which again includes counters as well, and summary.
  - review_size is a histogram type metric
  - prediction_type is a summary type metric
- All four metrics types thus have an example broken down with Labels.

### Grafana: Level 4
- Since we added Grafana to the Helm deployment this part of the rubric is not relevant.
- 
- When running the Helm deployment you can find the Grafana dashboard at: `http://localhost/grafana`
- The JSON 